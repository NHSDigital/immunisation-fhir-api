{"uid":"71b3297529a0b690","name":"Flu event is created and updated twice","fullName":"features.APITests.steps.test_update_steps#test_flu_event_is_created_and_updated_twice","historyId":"9b226546afc5591000d3682592696bdd","time":{"start":1769601628264,"stop":1769601632190,"duration":3926},"description":"/home/runner/work/immunisation-fhir-api/immunisation-fhir-api/tests/e2e_automation/features/APITests/update.feature: Flu event is created and updated twice","descriptionHtml":"<p>/home/runner/work/immunisation-fhir-api/immunisation-fhir-api/tests/e2e_automation/features/APITests/update.feature: Flu event is created and updated twice</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setup_environment","time":{"start":1769601494487,"stop":1769601494487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"global_context","time":{"start":1769601494490,"stop":1769601498899,"duration":4409},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_apigee_apps","time":{"start":1769601498900,"stop":1769601506738,"duration":7838},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1769601628264,"stop":1769601629539,"duration":1275},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pytest_bdd_example","time":{"start":1769601628264,"stop":1769601628264,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"/home/runner/work/immunisation-fhir-api/immunisation-fhir-api/tests/e2e_automation/features/APITests/update.feature: Flu event is created and updated twice","status":"passed","steps":[],"attachments":[{"uid":"ceca5dce80d6f1d6","name":"Step Passed: I have created a valid vaccination record","source":"ceca5dce80d6f1d6.txt","type":"text/plain","size":60},{"uid":"5a3359bc174a03f5","name":"Step Passed: Send a update for Immunization event created with patient address being updated","source":"5a3359bc174a03f5.txt","type":"text/plain","size":98},{"uid":"dd9aefd7864dc3c2","name":"Step Passed: The request will be successful with the status code '200'","source":"dd9aefd7864dc3c2.txt","type":"text/plain","size":76},{"uid":"280f8cfdcd3ab6e1","name":"Step Passed: The Etag in header will containing the latest event version","source":"280f8cfdcd3ab6e1.txt","type":"text/plain","size":78},{"uid":"38f201a2521ec904","name":"Step Passed: The imms event table will be populated with the correct data for 'updated' event","source":"38f201a2521ec904.txt","type":"text/plain","size":99},{"uid":"37ab8f6e3d391d94","name":"Step Passed: The delta table will be populated with the correct data for updated event","source":"37ab8f6e3d391d94.txt","type":"text/plain","size":92},{"uid":"d3d7ccbb056e0f7e","name":"Step Passed: Send a update for Immunization event created with vaccination detail being updated","source":"d3d7ccbb056e0f7e.txt","type":"text/plain","size":101},{"uid":"ee212142d94a8d09","name":"Step Passed: The request will be successful with the status code '200'","source":"ee212142d94a8d09.txt","type":"text/plain","size":76},{"uid":"f24b002dc9733eab","name":"Step Passed: The Etag in header will containing the latest event version","source":"f24b002dc9733eab.txt","type":"text/plain","size":78},{"uid":"feb79d3b966e5fe5","name":"Step Passed: The imms event table will be populated with the correct data for 'updated' event","source":"feb79d3b966e5fe5.txt","type":"text/plain","size":99},{"uid":"bb051034edcf0353","name":"Step Passed: The delta table will be populated with the correct data for updated event","source":"bb051034edcf0353.txt","type":"text/plain","size":92},{"uid":"abcceae05c34012","name":"stdout","source":"abcceae05c34012.txt","type":"text/plain","size":22252}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_apigee_apps::0","time":{"start":1769601846071,"stop":1769601858152,"duration":12081},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Immunization Service"},{"name":"suite","value":"Update the immunization of a patient"},{"name":"feature","value":"Update the immunization of a patient"},{"name":"tag","value":"supplier_name_Postman_Auth"},{"name":"tag","value":"vaccine_type_FLU"},{"name":"tag","value":"smoke"},{"name":"tag","value":"patient_id_Random"},{"name":"tag","value":"Update_Feature"},{"name":"tag","value":"functional"},{"name":"tag","value":"Delete_cleanUp"},{"name":"parentSuite","value":"features.APITests.steps"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"2776-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.APITests.steps.test_update_steps"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":1,"skipped":0,"passed":35,"unknown":0,"total":38},"items":[{"uid":"4877a5817b1d2bb6","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/170/#testresult/4877a5817b1d2bb6","status":"failed","statusDetails":"AssertionError: FAILURE: check bool(False): Update ImmsID 48eebc72-4a50-45a8-821f-ce604aa47311 with Version 3 - Expected SITE_OF_VACCINATION_TERM: Left upper arm structure (body structure), Actual Right upper arm structure (body structure)\nfeatures/APITests/steps/test_update_steps.py:40 in validate_delta_table_for_updated_event() -> validate_imms_delta_record_with_created_event(\nsrc/dynamoDB/dynamo_db_helper.py:217 in validate_imms_delta_record_with_created_event() -> check.is_true(\n\nFAILURE: check bool(False): Update ImmsID 48eebc72-4a50-45a8-821f-ce604aa47311 with Version 3 - Expected SITE_OF_VACCINATION_CODE: 368208006, Actual 368209003\nFAILURE: check bool(False): Update ImmsID 48eebc72-4a50-45a8-821f-ce604aa47311 with Version 3 - Expected ROUTE_OF_VACCINATION_TERM: Intramuscular route (qualifier value), Actual Subcutaneous route (qualifier value)\nFAILURE: check bool(False): Update ImmsID 48eebc72-4a50-45a8-821f-ce604aa47311 with Version 3 - Expected ROUTE_OF_VACCINATION_CODE: 78421000, Actual 34206005\n------------------------------------------------------------\nFailed Checks: 4","time":{"start":1769601148346,"stop":1769601151871,"duration":3525}},{"uid":"2878e2c95268dc7","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/170/#testresult/2878e2c95268dc7","status":"passed","time":{"start":1769600576582,"stop":1769600580048,"duration":3466}},{"uid":"6cc480bfae4f213f","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1187/#testresult/6cc480bfae4f213f","status":"passed","time":{"start":1769599934397,"stop":1769599938901,"duration":4504}},{"uid":"93cc41490cc5a771","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1188/#testresult/93cc41490cc5a771","status":"passed","time":{"start":1769599757327,"stop":1769599761128,"duration":3801}},{"uid":"fb8de8444ac08e6f","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/169/#testresult/fb8de8444ac08e6f","status":"passed","time":{"start":1769599637299,"stop":1769599641198,"duration":3899}},{"uid":"49a028f7db0013da","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1187/#testresult/49a028f7db0013da","status":"passed","time":{"start":1769599503872,"stop":1769599508309,"duration":4437}},{"uid":"661731d95694c858","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/169/#testresult/661731d95694c858","status":"passed","time":{"start":1769599020507,"stop":1769599024783,"duration":4276}},{"uid":"9e3a572757eca791","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1186/#testresult/9e3a572757eca791","status":"passed","time":{"start":1769598931587,"stop":1769598935534,"duration":3947}},{"uid":"50dfcc76fc16217d","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1185/#testresult/50dfcc76fc16217d","status":"passed","time":{"start":1769598313685,"stop":1769598317893,"duration":4208}},{"uid":"964b6e5640dd0edd","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1184/#testresult/964b6e5640dd0edd","status":"passed","time":{"start":1769596717069,"stop":1769596721808,"duration":4739}},{"uid":"c4630081c57c8ac5","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/168/#testresult/c4630081c57c8ac5","status":"passed","time":{"start":1769596216793,"stop":1769596220984,"duration":4191}},{"uid":"2cedb9249c22ad7b","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/168/#testresult/2cedb9249c22ad7b","status":"passed","time":{"start":1769595567752,"stop":1769595571221,"duration":3469}},{"uid":"a8511fffd2f26f25","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1182/#testresult/a8511fffd2f26f25","status":"passed","time":{"start":1769595337444,"stop":1769595346148,"duration":8704}},{"uid":"7414107f3bcee7b7","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1181/#testresult/7414107f3bcee7b7","status":"passed","time":{"start":1769593485913,"stop":1769593491086,"duration":5173}},{"uid":"33baf41f07ff50e7","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1177/#testresult/33baf41f07ff50e7","status":"passed","time":{"start":1769592878559,"stop":1769592883348,"duration":4789}},{"uid":"1e6b95d56c82ef10","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1180/#testresult/1e6b95d56c82ef10","status":"passed","time":{"start":1769592330053,"stop":1769592333748,"duration":3695}},{"uid":"d52394bd6ed8b5f6","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1178/#testresult/d52394bd6ed8b5f6","status":"failed","statusDetails":"AssertionError: FAILURE: check bool(False): Update ImmsID 287fad33-e8bf-41c5-9459-8c8990496d4d with Version 3 - Expected VACCINATION_PROCEDURE_TERM: Administration of first intranasal seasonal influenza vaccination (procedure), Actual Seasonal influenza vaccination\nfeatures/APITests/steps/test_update_steps.py:40 in validate_delta_table_for_updated_event() -> validate_imms_delta_record_with_created_event(\nsrc/dynamoDB/dynamo_db_helper.py:217 in validate_imms_delta_record_with_created_event() -> check.is_true(\n\n------------------------------------------------------------\nFailed Checks: 1","time":{"start":1769535051370,"stop":1769535054943,"duration":3573}},{"uid":"71e233c7111492be","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1177/#testresult/71e233c7111492be","status":"passed","time":{"start":1769534023619,"stop":1769534028238,"duration":4619}},{"uid":"a5998b87bd2292d6","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1175/#testresult/a5998b87bd2292d6","status":"passed","time":{"start":1769531545126,"stop":1769531549226,"duration":4100}},{"uid":"fa151c410a5e1c9a","reportUrl":"https://NHSDigital.github.io/immunisation-fhir-api/1172/#testresult/fa151c410a5e1c9a","status":"passed","time":{"start":1769528618207,"stop":1769528622086,"duration":3879}}]},"tags":["vaccine_type_FLU","functional","Update_Feature","smoke","patient_id_Random","supplier_name_Postman_Auth","Delete_cleanUp"]},"source":"71b3297529a0b690.json","parameterValues":[]}